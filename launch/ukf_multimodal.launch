<launch>
<arg name="robot"/>
<arg name="eventgui" default="true"/>
<arg name="marker" default="false"/>

<!-- the PPL publisher and their GUIs -->
<include file="$(find people_detection_vision)/launch/all_pplp.launch">
  <arg name="robot" value="$(arg robot)" />
</include>

<!-- the PPL matchers and their GUIs -->
<include file="$(find people_recognition_vision)/launch/all_pplm.launch">
  <arg name="robot" value="$(arg robot)" />
</include>

<include file="$(find people_recognition_vision)/launch/ukf_event_marker.launch">
  <arg name="robot" value="$(arg robot)" />
  <arg name="eventgui" value="$(arg eventgui)" />
  <arg name="marker" value="$(arg marker)" />
</include>

<group ns="$(arg robot)">
  <arg name="ppl_topics" default="nite_user_mask_pplp/ppl;hog_pplp/ppl;tabletop_pplp/ppl;ppm_pplp/ppl;face_detector_pplp/ppl;artoolkit_pplp/ppl;leg_pplp/ppl"/>

  <!-- the UKF (sensor fusion) -->
  <node pkg="people_recognition_vision" type="ukf_multimodal.exe" name="ukf_multimodal"
        output="screen" respawn="false"
        args="_static_frame_id:=/base_link
              _ppl_input_topics:=$(arg ppl_topics)
              _ppl_matcher_services:=euclidean_pplm/match_ppl"
        />
<!--
        launch-prefix="valgrind"
-->
</group>
</launch>

